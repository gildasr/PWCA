<!DOCTYPE html>
<html>
	<head>
		<title>TP2 Q3</title>
		<style>
			#carre {
				position:absolute;
				background-color:red;
				height:200px;
				width:200px;
				margin:10px;
				right:0;
			}
		</style>
	</head>
	<body>
		<div id="carre"></div>
		<button id="start">Start</button>
		<button id="reset">Reset</button>
	</body>
	<script>
		//Contourner les diff√©rences de syntaxe suivant le navigateur.
		var animationFrame = window.requestAnimationFrame ||
								 window.mozRequestAnimationFrame ||
              				 window.webkitRequestAnimationFrame ||
								 window.msRequestAnimationFrame;		


		document.getElementById("start").addEventListener("click", start);
		document.getElementById("reset").addEventListener("click", reset);
		
		
		var elem = document.getElementById("carre");
		var right = 0;
		var lastDate;


		function start() {
			lastDate = new Date;
			animationFrame(anim);
		}


		function anim() {
			var newDate = new Date();
			var delta = newDate - lastDate;
			elem.style.right = (right += (10/16)*delta)+"px";	//vitesse = 10px/16ms.
			lastDate = newDate;
			animationFrame(anim);
		}


		function reset() {
			right = 0;
			elem.style.right = right+"px";
		}
	</script>
</html>
